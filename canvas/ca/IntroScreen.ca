
msg = input() -> List

import UIHelper

msg_name = msg[0]

state ButtonBar scriptChoices = button_bar([
        ["Asteroids", "demos/asteroids.ca"],
        ["Plants", "demos/plants.ca"]
        ["Mouse test", "demos/mouse_test.ca"]
        ])

scriptChoices.arrange([30 80 200 220], :vertical)

if msg_name == 'onPaintEvent'
    painter = msg[1] -> Painter

    painter.fillRect(painter.viewport + [0 0 1 1], #756A95)

    pen = create_pen(#fff, 1.0, :none)
    pen.setColor(#fff)
    painter.setPen(pen)

    font = create_font("Sans Serif", 30)
    painter.setFont(font)
    painter.setColor(#C9E8E8)
    right = 10
    right = painter.drawText([right 30 300 500] 0 "circa").x2 + 5
    painter.setColor(#E1BC66)
    right = painter.drawText([right 30 300 500] 0 "alpha").x2 + 5
    painter.setColor(#CD7994)
    painter.drawText([170 30 300 100] 0 "4")

    scriptChoices.draw(painter)

elif msg_name == 'onInputEvent'
    event = msg[1] -> InputEvent
    choice = scriptChoices@.input(event)
    if is_string(choice)
        send('ScriptView' ['loadFile' choice])
        send('View' ['changeScreen' 'ScriptView'])
