
def main()
    s = _declared_state(any, { 0 })
    s += 1

int = make_stack(main)
int.call
assert(to_string(int.extract_state) == "{s: 1}")
int.call
assert(to_string(int.extract_state) == "{s: 2}")
int.call
assert(to_string(int.extract_state) == "{s: 3}")

def main()
    state s = 0
    s += 1

int = make_stack(main)
int.call
assert(to_string(int.extract_state) == "{s: 1}")
int.call
assert(to_string(int.extract_state) == "{s: 2}")
int.call
assert(to_string(int.extract_state) == "{s: 3}")
