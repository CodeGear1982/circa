

def grid_points(Vec2 size)
  
  {done: false, key: 0, current: Vec2.make(0 0), advance: seq ->
    seq.key += 1
    seq.current.x += 1
    if seq.current.x >= size.x
      seq.current.x = 0
      seq.current.y += 1
    if seq.current.y >= size.y
      seq.done = true
    seq
  }

for p in grid_points([10 3])
  print('iterating across [10 3], p = ' p)
