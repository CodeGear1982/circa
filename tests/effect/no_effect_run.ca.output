Regular run:
 called has_effect
 called no_effect
  result = 2
No effect run:
 called no_effect
  result = 2
