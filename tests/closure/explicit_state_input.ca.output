initial t is: incoming_state
output is: out
final state is: {t: 'outgoing'}
