
-- Test a for-loop with inner state that is used as an expression.

def f() -> List
    result = for i in [0 1 2]
        state s = 0
        s += i
        s

    return result

int = make_stack(f)
result = int.call
print('step1, result = ' result ', s = ' int.extract_state)

result = int.call
print('step2, result = ' result ', s = ' int.extract_state)
