
struct T {
  List list
}

def T.pop_and_return(self) -> (T, any)
  val = self.list.last
  @self.list.pop
  return self, val

t = T.make([1 2 3])

print('plain style:')

a, b = t.pop_and_return()

print('a = ' a)
print('b = ' b)

print('rebind style:')

a = @t.pop_and_return()

print('a = ' a)
print('t = ' t)
