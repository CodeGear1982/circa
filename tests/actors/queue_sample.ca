def simple_queue_actor(any msg)
    state msgs = []

    out = null

    if msg == :get
        out = msgs
        msgs = []
    else
        @msgs.append(msg)

    return out

state actor = make_actor(simple_queue_actor.to_closure)

actor.call(1)
actor.call(2)
actor.call(3)

assert(actor.call(:get) == [1 2 3])
assert(actor.call(:get) == [])
