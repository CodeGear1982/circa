
def main()
  def get_a() -> int
    print('called get_a')
    3
  def get_b() -> int
    print('called get_b')
    4

  a = get_a()
  b = get_b()

stack = make_vm(->)

print('Evaluating a on demand..')
t = main.block.find_term('a')
val = stack.eval_on_demand(t)

print('a = ', val)
