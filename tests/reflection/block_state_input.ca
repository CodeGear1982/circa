
block = {
    state s
    output(1 + 1)
}.block

assert(block.has_state_input)
assert(block.get_state_input_index == 0)
assert(block.get_state_output_index == 2)

block = {
    i = input()
    state s
    output(1 + 1)
    output(4)
}.block

assert(block.has_state_input)
assert(block.get_state_input_index == 1)
assert(block.get_state_output_index == 3)

block = {
    1 + 1
}.block

assert(not block.has_state_input)
