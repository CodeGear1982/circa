
Need to be able to pass around closure values.
Also need to reconcile the various ways of storing a function.

Branch
  Lower-level format.
  Used primarily in reflection.

Function / Closure
  Stores a Branch pointer
  Stores the 'Environment' (a list of closed values)

Existing 'Function' type
  Should be removed
  Fields should be added to a NativeFunc field on the Branch
  Code should pass around Branch* when talking about functions

The {} syntax must create a closure:

    def main() -> Function
      a = 1
      return { print(a) }

Referring to a function by name must also create a closure:
    
    def main() -> Function
      a = 1
      def print_a()
        print(a)
      return print_a

