Some hard design problems:

Untamed references
  We have refernces pointing every which way! Too much danger of doing
  something unsafe. Need to have a stronger design here.

Scope of if-statement
  It should be easy for the branches inside if-statement to access their
  outer scope, but currently this is very awkward.

  Ideas:
    Maintain a pointer to the outer branch
    Maintain a pointer to the outer term's branch
    Maintain a pointer to the if-statement term

  Maybe the namespace should be separate from the Branch.
  
