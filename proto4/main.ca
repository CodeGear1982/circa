
-- std functions

state mouse_x = 0.0
state mouse_y = 0.0

background(0xeeeeeeff)

type Point { float x, float y }

def p2c(float angle, float radius, Point center) : Point
  return [cos(angle) * radius + center.x, sin(angle) * radius + center.y]
end

def add_points(Point a, Point b) : Point
  return [a.x + b.x, a.y + b.y]
end

-- our code

buttons = ["Button1", "Button2", "Button3"]

loc = [mouse_x mouse_y] : Point

button_size = [100 20] : Point
--total_h = button_size = buttons.length()

font_height = 8
current_y = loc.y

for button in buttons
  button_loc = [loc.x, current_y] : Point
  box(button_loc.x, button_loc.y, button_loc.x + button_size.x, button_loc.y + button_size.y, 0x00ff00ff)
  drawText(button_loc.x + 3, button_loc.y + (button_size.y - font_height) / 2, button, 0x000000ff)
  current_y += button_size.y + mouse_y
end
