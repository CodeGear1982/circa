
assert(receive('a') == [])

send('a' 1)

assert(receive('a') == [1])
assert(receive('a') == [])

send('a' 1)
send('a' 2)
send('a' 3)

assert(receive('a') == [1 2 3])

send('a' [[[1]]])

assert(receive('a') == [[[[1]]]])

send('a' 1)
send('a' 2)
send('a' 3)

assert(receive_last('a' null) == 3)
assert(receive_last('a' null) == null)
