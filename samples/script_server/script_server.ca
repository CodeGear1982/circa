
-- c functions
def on_file_changed(string filename)

files_to_watch = ['test'] -- input from C++ land

for file in @files_to_watch
    if not(file:exists(file))
        print('file not found: ' file)
        discard

state List watched_files = []
watched_files.extend(files_to_watch)

for file in watched_files
    if file_changed(file)
        on_file_changed(file)
